<html><head><link rel="import" href="../polymer/polymer.html"><script>Polymer({is:'geo-location',hostAttributes:{hidden:!0},properties:{latitude:{type:Number,notify:!0,reflectToAttribute:!0,readOnly:!0,value:null},longitude:{type:Number,notify:!0,reflectToAttribute:!0,readOnly:!0,value:null},idle:{type:Boolean,value:!1},watchPos:{type:Boolean,value:!1},highAccuracy:{type:Boolean,value:!1},maximumAge:{type:Number,value:0},timeout:{type:Number,value:5e3},position:{type:Object,notify:!0,readOnly:!0,value:null}},observers:['fetch(idle, watchPos, highAccuracy, timeout, maximumAge)'],detached:function(){this._clearWatch(this._watch)},_clearWatch:function(a){a&&(navigator.geolocation.clearWatch(a),this._watch=null)},clear:function(){this._setPosition(null),this._setLatitude(null),this._setLongitude(null)},fetch:function(){if(this._clearWatch(this._watch),!this.idle){var a=this._onPosition.bind(this),b=this._onError.bind(this),c={enableHighAccuracy:this.highAccuracy,timeout:this.timeout,maximumAge:this.maximumAge};this.watchPos?this._watch=navigator.geolocation.watchPosition(a,b,c):navigator.geolocation.getCurrentPosition(a,b,c)}},_onPosition:function(a){this._setPosition(a),this._setLatitude(a.coords.latitude),this._setLongitude(a.coords.longitude),this.fire('geo-response',{latitude:this.latitude,longitude:this.longitude,position:a})},_onError:function(a){this.fire('geo-error',{error:a.code+': '+a.message,code:a.code})}});</script></head><body></body></html>