<html><head><link rel="import" href="d2l-dom.html"><link rel="import" href="d2l-dom-visibility.html"><script>(function(){'use strict';window.D2L=window.D2L||{},window.D2L.Dom=window.D2L.Dom||{},window.D2L.Dom.Focus={_focusableElements:{a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0},getFirstFocusableDescendant:function(a,b){for(var c=D2L.Dom.getComposedChildren(a),d=0;d<c.length;d++){if(this.isFocusable(c[d],b))return c[d];var e=this.getFirstFocusableDescendant(c[d],b);if(e)return e}return null},getLastFocusableDescendant:function(a,b){for(var c,d=D2L.Dom.getComposedChildren(a),e=d.length-1;0<=e;e--){if(c=this.getLastFocusableDescendant(d[e],b),c)return c;if(this.isFocusable(d[e],b))return d[e]}return null},getPreviousFocusable:function(a,b){if(!a)return null;b===void 0&&(b=!1);var c=function(a){for(var b=D2L.Dom.getComposedParent(a);b;){var c=b.previousElementSibling;if(c)return c;b=D2L.Dom.getComposedParent(b)}return null},d=function(a,e,f){if(!e&&this.isFocusable(a,b))return a;if(!f){var g=this.getLastFocusableDescendant(a,b);if(g)return g}var h=a.previousElementSibling;if(h){var i=d(h,!1,!1);return i?i:null}var j=c(a);if(j){var k=d(j,!1,!1);if(k)return k}return null}.bind(this),e=d(a,!0,!0);return e},getNextFocusable:function(a,b){if(!a)return null;b===void 0&&(b=!1);var c=function(a){for(var b=D2L.Dom.getComposedParent(a);b;){var c=b.nextElementSibling;if(c)return c;b=D2L.Dom.getComposedParent(b)}return null},d=function(a,e,f){if(!e&&this.isFocusable(a,b))return a;if(!f){var g=this.getFirstFocusableDescendant(a,b);if(g)return g}var h=a.nextElementSibling;if(h){var i=d(h,!1,!1);return i?i:null}var j=c(a);if(j){var k=d(j,!1,!1);if(k)return k}return null}.bind(this),e=d(a,!0,!1);return e},getPreviousFocusableAncestor:function(a,b,c){if(!a)return null;b===void 0&&(b=!1),c===void 0&&(c=!0);for(var d=D2L.Dom.getComposedParent(a);d;){if(this.isFocusable(d,b,c))return d;d=D2L.Dom.getComposedParent(d)}return null},isFocusable:function(a,b,c){if(!a||1!==a.nodeType||a.disabled)return!1;c===void 0&&(c=!0);var d,e=c?0:-1;if(a.getAttributeNode){var f=a.getAttributeNode('tabindex');f&&f.specified&&(d=f.value>=e)}if(void 0===d){var g=a.nodeName.toLowerCase();d=this._focusableElements[g]}return(!d||b||D2L.Dom.Visibility.isVisible(a))&&d}}})();</script></head><body></body></html>