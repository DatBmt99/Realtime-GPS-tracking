<html><head><link rel="import" href="../../bower_components/polymer/polymer.html"><link rel="import" href="d2l-dom.html"><link rel="import" href="d2l-dom-focus.html"></head><body><dom-module id="d2l-dropdown-content-styles"><template><style>:host{box-sizing:border-box;color:var(--box-color-ferrite);display:none;left:0;position:absolute;text-align:left;top:calc(100% + var(--d2l-dropdown-verticaloffset, 8px));width:100%;z-index:1000;}:host([opened]){display:inline-block;}:host([opened]){-webkit-animation:d2l-dropdown-animation 300ms ease;animation:d2l-dropdown-animation 300ms ease;}:host([opened-above]){bottom:calc(100% + var(--d2l-dropdown-verticaloffset, 20px));top:auto;-webkit-animation:d2l-dropdown-above-animation 300ms ease;animation:d2l-dropdown-above-animation 300ms ease;}:host .d2l-dropdown-content-pointer{position:absolute;display:inline-block;clip:rect(-5px, 21px, 8px, -3px);top:-7px;left:calc(50% - 7px);z-index:1;}:host .d2l-dropdown-content-pointer > div{background-color:#ffffff;border:1px solid var(--box-color-mica);border-radius:0.1rem;box-shadow:-4px -4px 12px -5px rgba(86, 90, 92, .2);height:16px;width:16px;transform:rotate(45deg);-webkit-transform:rotate(45deg);}:host([opened-above]) .d2l-dropdown-content-pointer{top:auto;clip:rect(9px, 21px, 22px, -3px);bottom:-8px;}:host([opened-above]) .d2l-dropdown-content-pointer > div{box-shadow:4px 4px 12px -5px rgba(86, 90, 92, .2);}:host([no-pointer]) .d2l-dropdown-content-pointer{display:none;}:host .d2l-dropdown-content-position{border-radius:0.1rem;display:inline-block;position:absolute;}:host .d2l-dropdown-content-width{background-color:#ffffff;border:1px solid var(--box-color-mica);border-radius:0.1rem;box-shadow:0 2px 12px 0 rgba(0, 0, 0, 0.15);box-sizing:border-box;min-width:70px;max-width:370px;position:absolute;width:100vw;}:host([opened-above]) .d2l-dropdown-content-width{bottom:100%;}:host .d2l-dropdown-content-container{box-sizing:border-box;display:inline-block;max-width:100%;outline:none;padding:1rem;}:host([no-padding]) .d2l-dropdown-content-container{padding:0;}:host .d2l-dropdown-content-top,
			:host .d2l-dropdown-content-bottom{height:5px;position:relative;z-index:1;}:host .d2l-dropdown-content-top{border-top-left-radius:0.3rem;border-top-right-radius:0.3rem;}:host .d2l-dropdown-content-bottom{border-bottom-left-radius:0.3rem;border-bottom-right-radius:0.3rem;}:host .d2l-dropdown-content-top-scroll{box-shadow:0 3px 3px 0 rgba(0, 0, 0, 0.05);}:host .d2l-dropdown-content-bottom-scroll{box-shadow:0 -3px 3px 0 rgba(0, 0, 0, 0.05);}:host-context([dir="rtl"]){left:auto;right:0;text-align:right;}:host(:dir(rtl)){left:auto;right:0;text-align:right;}@keyframes d2l-dropdown-animation{0%{transform:translate(0,-10px);opacity:0;}100%{transform:translate(0,0);opacity:1;}}@keyframes d2l-dropdown-above-animation{0%{transform:translate(0,10px);opacity:0;}100%{transform:translate(0,0);opacity:1;}}@-webkit-keyframes d2l-dropdown-animation{0%{-webkit-transform:translate(0,-10px);opacity:0;}100%{-webkit-transform:translate(0,0);opacity:1;}}@-webkit-keyframes d2l-dropdown-above-animation{0%{-webkit-transform:translate(0,10px);opacity:0;}100%{-webkit-transform:translate(0,0);opacity:1;}}</style></template></dom-module><script>(function(){'use strict';var a={hostAttributes:{"d2l-dropdown-content":!0},properties:{minWidth:{type:Number,observer:'__minWidthChanged',reflectToAttribute:!0},maxWidth:{type:Number,observer:'__maxWidthChanged',reflectToAttribute:!0},noAutoClose:{type:Boolean,reflectToAttribute:!0},noAutoFit:{type:Boolean,reflectToAttribute:!0},noAutoFocus:{type:Boolean,reflectToAttribute:!0},noPadding:{type:Boolean,reflectToAttribute:!0},noPointer:{type:Boolean,reflectToAttribute:!0},align:{type:String,reflectToAttribute:!0},boundary:Object,opened:{type:Boolean,observer:'__openedChanged',reflectToAttribute:!0},openedAbove:{type:Boolean,reflectToAttribute:!0},renderContent:Boolean,verticalOffset:{type:String,observer:'__verticalOffsetChanged'}},__content:null,__isRTL:!1,__previousFocusableAncestor:null,__mutationObserver:null,__applyFocus:!0,ready:function(){this.__onResize=this.__onResize.bind(this),this.__onAutoCloseClick=this.__onAutoCloseClick.bind(this)},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){this.verticalOffset!==void 0&&this.__verticalOffsetChanged(this.verticalOffset),this.__content=this.$$('.d2l-dropdown-content-container'),window.addEventListener('resize',this.__onResize),document.body.addEventListener('focus',this.__onAutoCloseFocus,!0),document.body.addEventListener('click',this.__onAutoCloseClick,!0),this.listen(this,'keyup','__onKeyUp'),this.listen(this,'d2l-dropdown-close','__onClose'),this.listen(this,'d2l-dropdown-position','__toggleScrollStyles'),this.listen(this.__content,'scroll','__toggleScrollStyles')}.bind(this))},detached:function(){window.removeEventListener('resize',this.__onResize),document.body.removeEventListener('focus',this.__onAutoCloseFocus,!0),document.body.removeEventListener('click',this.__onAutoCloseClick,!0),this.unlisten(this,'keyup','__onKeyUp'),this.unlisten(this,'d2l-dropdown-close','__onClose'),this.unlisten(this,'d2l-dropdown-position','__toggleScrollStyles'),this.unlisten(this.__content,'scroll','__toggleScrollStyles')},close:function(){this.opened=!1},open:function(a){this.__applyFocus=!(a!==void 0)||a,this.opened=!0},forceRender:function(){this.renderContent||(this.renderContent=!0);var a=this.$$('dom-if')||this.$$('template');a.render()},toggleOpen:function(a){this.opened?this.close():this.open(a)},scrollTo:function(a){var b=this.__content;if(b)return'number'===typeof a&&(b.scrollTop=a),b.scrollTop},height:function(){return this.__content&&this.__content.offsetHeight},__getContentContainer:function(){return this.$$('.d2l-dropdown-content-container')},__getPositionContainer:function(){return this.$$('.d2l-dropdown-content-position')},__getWidthContainer:function(){return this.$$('.d2l-dropdown-content-width')},__getOpener:function(){var a=D2L.Dom.findComposedAncestor(this,function(a){if(a.isDropdownOpener)return!0});return a},__minWidthChanged:function(a){a&&(this.__getWidthContainer().style.minWidth=a+'px',this.__getContentContainer().style.minWidth=a+'px')},__maxWidthChanged:function(a){a&&(this.__getWidthContainer().style.maxWidth=a+'px')},__onAutoCloseFocus:function(){setTimeout(function(){if(this.opened&&!this.noAutoClose&&document.activeElement&&document.activeElement!==this.__previousFocusableAncestor&&document.activeElement!==document.body){var a=Polymer.dom(document.activeElement).node;a=this.root.activeElement||a,D2L.Dom.isComposedAncestor(this,a)||D2L.Dom.isComposedAncestor(this.__getOpener(),a)||(this.opened=!1)}}.bind(this),0)},__onAutoCloseClick:function(a){if(this.opened&&!this.noAutoClose){var b=this.__getContentContainer();if(!D2L.Dom.isComposedAncestor(b,Polymer.dom(a).rootTarget)){var c=this.__getOpener();D2L.Dom.isComposedAncestor(c.getOpenerElement(),Polymer.dom(a).rootTarget)||(this.opened=!1)}}},__onClose:function(a){if(a.target===this&&document.activeElement){var b=Polymer.dom(document.activeElement).node;if(b=this.root.activeElement||b,!!D2L.Dom.isComposedAncestor(this,b)){var c=this.__getOpener();c.getOpenerElement().focus()}}},__onKeyUp:function(a){this.opened&&(27!==a.keyCode||(this.opened=!1))},__onResize:function(){this.opened&&this.__position()},__openedChanged:function(a){this.__previousFocusableAncestor=!0===a?D2L.Dom.Focus.getPreviousFocusableAncestor(this,!1,!1):null,this.__isRTL='rtl'===getComputedStyle(this).direction;var b=function(){var a=this.__getContentContainer();if(this.noAutoFit||(a.scrollTop=0),this.__position(),!this.noAutoFocus&&this.__applyFocus){var b=D2L.Dom.Focus.getFirstFocusableDescendant(this);b?b.focus():(a.setAttribute('tabindex','-1'),a.focus())}this.fire('d2l-dropdown-open')}.bind(this);if(!a)this.fire('d2l-dropdown-close'),!this.noAutoFit&&this.__mutationObserver&&this.__mutationObserver.disconnect();else if(this.renderContent||this.forceRender(),b(),!this.noAutoFit){this.__mutationObserver||(this.__mutationObserver=new MutationObserver(function(){this.__toggleOverflowY()}.bind(this)));this.__mutationObserver.observe(this.__getContentContainer(),{subtree:!0,childList:!0})}},__position:function(a){var b=this.__getOpener(),c=b.getOpenerElement();if(c){var d=this.__getContentContainer(),e=this.__getPositionContainer(),f=this.__getWidthContainer();this.noAutoFit||(d.style.maxHeight='none');var g=function(){var b=Math.floor,f=Math.min,g=c.getBoundingClientRect(),h=d.getBoundingClientRect(),i={above:g.top-50,below:window.innerHeight-g.bottom-80,left:g.left-20,right:document.documentElement.clientWidth-g.right-15};this.boundary&&(i.above=0<=this.boundary.above?f(i.above,this.boundary.above):i.above,i.below=0<=this.boundary.below?f(i.below,this.boundary.below):i.below,i.left=0<=this.boundary.left?f(i.left,this.boundary.left):i.left,i.right=0<=this.boundary.right?f(i.right,this.boundary.right):i.right);var j,k={height:h.height+20,width:h.width};a||(i.below<k.height&&(i.above>k.height||i.above>i.below)?this.openedAbove=!0:this.openedAbove=!1),j=this.openedAbove?b(i.above):b(i.below),'start'===this.align&&!this.__isRTL||'end'===this.align&&this.__isRTL?i.left=0:('start'===this.align&&this.__isRTL||'end'===this.align&&!this.__isRTL)&&(i.right=0);var l=h.width-g.width,m=l/2;0<l?this.__isRTL?i.left>m&&i.right>m?e.style.right=-1*m+'px':i.left<m?e.style.right=-1*(h.width-g.width)+i.left+'px':i.right<m&&(e.style.right=-1*i.right+'px'):i.left>m&&i.right>m?e.style.left=-1*m+'px':i.left<m?e.style.left=-1*i.left+'px':i.right<m&&(e.style.left=-1*(h.width-g.width)+i.right+'px'):this.__isRTL?e.style.right=-1*m+'px':e.style.left=-1*m+'px',!this.noAutoFit&&j&&0<j&&(d.style.maxHeight=j+'px',this.__toggleOverflowY()),this.fire('d2l-dropdown-position')}.bind(this);f.style.width='',d.style.width='';var h=window.innerWidth-40;h>d.scrollWidth&&(h=d.scrollWidth),f.style.width=h+20+'px',d.style.width=h+18+'px',g()}},__toggleOverflowY:function(){if(this.__content&&this.__content.style&&this.__content.style.maxHeight){var a=parseInt(this.__content.style.maxHeight,10);a&&(this.__content.scrollHeight>a?this.__content.style.overflowY='auto':this.__content.style.overflowY='')}},__toggleScrollStyles:function(){var a=this.$$('.d2l-dropdown-content-top'),b=this.$$('.d2l-dropdown-content-bottom');0===this.__content.scrollTop?a.classList.contains('d2l-dropdown-content-top-scroll')&&a.classList.remove('d2l-dropdown-content-top-scroll'):!a.classList.contains('d2l-dropdown-content-top-scroll')&&a.classList.add('d2l-dropdown-content-top-scroll'),5>this.__content.scrollHeight-(this.__content.scrollTop+this.__content.clientHeight)?b.classList.contains('d2l-dropdown-content-bottom-scroll')&&b.classList.remove('d2l-dropdown-content-bottom-scroll'):!b.classList.contains('d2l-dropdown-content-bottom-scroll')&&b.classList.add('d2l-dropdown-content-bottom-scroll')},__verticalOffsetChanged:function(a){this.isAttached&&(a=parseInt(a),isNaN(parseInt(a))?delete this.customStyle['--d2l-dropdown-verticaloffset']:this.customStyle['--d2l-dropdown-verticaloffset']=a+'px',this.updateStyles())}};window.D2L=window.D2L||{},window.D2L.PolymerBehaviors=window.D2L.PolymerBehaviors||{},window.D2L.PolymerBehaviors.DropdownContentBehavior=[a]})();</script></body></html>