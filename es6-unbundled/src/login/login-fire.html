<html><head><link rel="import" href="../../bower_components/polymer/polymer-element.html"><link rel="import" href="../../bower_components/polymerfire/firebase-auth.html"><link rel="import" href="../../bower_components/iron-media-query/iron-media-query.html"><link rel="import" href="../../bower_components/shadycss/apply-shim.html"><link rel="import" href="email-login-fire.html"><link rel="import" href="social-login-fire.html"></head><body><dom-module id="login-fire"><template><style>[hidden]{display:none !important;}:host{@apply --layout-horizontal;@apply --layout-wrap;@apply --layout-around-justified;max-width:801px;margin:0 auto;}:host(.reverse){@apply --layout-horizontal-reverse;@apply --layout-wrap-reverse;}:host(.vertical){@apply --layout-vertical;@apply --layout-center;}:host(.vertical-reversed){@apply --layout-vertical-reverse;}.verticalDivider{border-right:1px solid #e0e0e0;margin:0 auto;height:100%;min-height:300px;}.verticalDivider div{position:relative;top:100px;background-color:white;font-style:italic;color:grey;font-weight:lighter;height:16px;width:11px;left:5px;font-size:12px;padding:10px 0 10px 0;}.horizontalDivider{border-top:1px solid #e0e0e0;text-align:center;margin:50px 35px 50px 35px;height:1px;max-width:400px;min-width:300px;}.horizontalDivider div{background-color:white;position:relative;top:-8px;width:50px;margin:0 auto;height:20px;font-style:italic;color:grey;font-weight:lighter;font-size:12px;}</style><template is="dom-if" if="{{debug}}"><div class="debug"><div>user.id = {{user.uid}}</div><div>signedIn = {{signedIn}}</div><div>statusKnown = {{statusKnown}}</div><div>user.displayName = {{user.displayName}}</div><div>user.email = {{user.email}}</div><div>user.emailVerified = {{user.emailVerified}}</div><div>user.isAnonymous = {{user.isAnonymous}}</div><div>user.photoURL = {{user.photoURL}} <img src$="{{user.photoURL}}" hidden="{{!user.photoURL}}" width="100px" height="100px"></div><div>user.providerId = {{user.providerId}}</div><paper-button on-tap="signOut">Log Out</paper-button></div></template><template is="dom-if" if="{{emailPassword}}"><email-login-fire id="emailLogin" class="flex" app-name="{{appName}}" user="{{emailUser}}" signed-in="{{emailSignedIn}}" password-reset-message="{{passwordResetMessage}}" auto-sign-up="{{autoSignUp}}" status-known="{{emailStatusKnown}}" no-sign-up="[[noSignUp]]"></email-login-fire></template><iron-media-query query="(max-width: 650px)" query-matches="{{isNarrow}}"></iron-media-query><template is="dom-if" if="{{_showDivider}}"><template is="dom-if" if="{{_showHorizontalDivider}}"><div id="divider" class="horizontalDivider"><div>or</div></div></template><template is="dom-if" if="{{!_showHorizontalDivider}}"><div id="divider" class="verticalDivider"><div>or</div></div></template></template><template is="dom-if" if="{{_showButtons}}"><social-login-fire id="socialLogin" class="flex" app-name="{{appName}}" user="{{socialUser}}" signed-in="{{socialSignedIn}}" redirect="{{redirect}}" anonymous="{{anonymous}}" google="{{google}}" facebook="{{facebook}}" twitter="{{twitter}}" github="{{github}}" phone="{{phone}}" mini="{{mini}}" horizontal="{{horizontal}}" status-known="{{socialStatusKnown}}"></social-login-fire></template></template><script>class LoginFire extends Polymer.Element{static get is(){return"login-fire"}static get properties(){return{appName:{type:String},anonymous:{type:Boolean,value:!1},github:{type:Boolean,value:!1},phone:{type:Boolean,value:!1},twitter:{type:Boolean,value:!1},facebook:{type:Boolean,value:!1},google:{type:Boolean,value:!1},emailPassword:{type:Boolean,value:!1},redirect:{type:Boolean,value:!1},user:{type:Object,readOnly:!0,notify:!0,computed:"_computeUser(emailUser, socialUser)",observer:"_userChanged"},signedIn:{type:Boolean,readOnly:!0,notify:!0,computed:"_computeSignedIn(emailSignedIn, socialSignedIn)"},statusKnown:{type:Boolean,readOnly:!0,notify:!0,computed:"_computeStatusKnown(emailStatusKnown, socialStatusKnown)"},debug:{type:Boolean,value:!1},reverse:{type:Boolean,value:!1,observer:"_reverseChanged"},passwordResetMessage:{type:String,value:"Password reset email has been sent. Please check your inbox."},autoSignUp:{type:Boolean,value:!1},mini:{type:Boolean,value:!1},horizontal:{type:Boolean,value:!1,observer:"_horizontalChanged"},noSignUp:{type:Boolean,value:!1},_showDivider:{type:Boolean,computed:"_computeShowDivider(debug)"},_showButtons:{type:Boolean,computed:"_computeShowButtons(debug)"},_showHorizontalDivider:{type:Boolean,computed:"_computeShowHorizontalDivider(isNarrow, horizontal)"}}}_reverseChanged(a){a?this.classList.add("reverse"):this.classList.remove("reverse")}_computeShowHorizontalDivider(a,b){return a||b}_computeUser(a,b){return this.emailSignedIn?a:this.socialSignedIn?b:{}}_computeSignedIn(a,b){return a||b}_computeStatusKnown(a,b){return a||b}_computeShowDivider(){return this.emailPassword&&(this.google||this.facebook||this.twitter||this.github||this.phone||this.anonymous)}_computeShowButtons(){return this.google||this.facebook||this.twitter||this.github||this.phone||this.anonymous}_userChanged(a){"undefined"===typeof a||null==a||0===Object.keys(a).length&&a.constructor===Object||this.dispatchEvent(new CustomEvent("signedin",{detail:a,bubbles:!0,composed:!0}))}_horizontalChanged(a){a?(this.classList.add("vertical"),this.reverse&&this.classList.add("vertical-reversed")):(this.classList.remove("vertical"),this.classList.remove("vertical-reversed"))}signOut(){this.shadowRoot.querySelector("#emailLogin").signOut(),this.shadowRoot.querySelector("#socialLogin").signOut()}attached(){this._recalculateDividerClass++}}customElements.define(LoginFire.is,LoginFire);</script></dom-module></body></html>