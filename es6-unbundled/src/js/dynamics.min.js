(function(){var aa,t,ba,ca,r,i,o,da,a,e,s,f,h,ea,l,c,d,g,m,n,b,p,v,w,k,x,y,C,u,F,H,q,M,R,j,z,I,A,G,S,T,E,O,L,D,V,W,N,X,B,U,Y,J,Q,Z,$,_=Math.cos,fa=Math.acos,ga=Math.sqrt,ha=Math.atan2,ia=Math.max,ja=Math.min,ka=Math.round,la=Math.pow,ma=function(a,b){return function(){return a.apply(b,arguments)}};u=function(){return"visible"===document.visibilityState||null!=x.tests},R=function(){var a;return a=[],"undefined"!=typeof document&&null!==document&&document.addEventListener("visibilitychange",function(){var b,c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(b(u()));return e}),function(b){return a.push(b)}}(),p=function(a){var b,c,d;for(b in c={},a)d=a[b],c[b]=d;return c},n=function(a){var b;return b={},function(){var c,d,e,f,g;for(d="",f=0,g=arguments.length;g>f;f++)c=arguments[f],d+=c.toString()+",";return e=b[d],e||(b[d]=e=a.apply(this,arguments)),e}},M=function(a){return function(b){var c,d,e;return b instanceof Array||b instanceof NodeList||b instanceof HTMLCollection?e=function(){var e,f,g;for(g=[],d=e=0,f=b.length;0<=f?f>e:e>f;d=0<=f?++e:--e)c=Array.prototype.slice.call(arguments,1),c.splice(0,0,b[d]),g.push(a.apply(this,c));return g}.apply(this,arguments):a.apply(this,arguments)}},c=function(a,b){var c,d,e;for(c in e=[],b)d=b[c],e.push(null==a[c]?a[c]=d:a[c]);return e},d=function(a,b){var c,d,e;if(null!=a.style)return g(a,b);for(c in e=[],b)d=b[c],e.push(a[c]=d.format());return e},g=function(b,c){var d,e,f,g,h;for(e in c=j(c),g=[],d=F(b),c)h=c[e],Q.contains(e)?g.push([e,h]):(h=null==h.format?""+h+$(e,h):h.format(),d&&X.contains(e)?b.setAttribute(e,h):b.style[I(e)]=h);return 0<g.length?d?(f=new a,f.applyProperties(g),b.setAttribute("transform",f.decompose().format())):(h=g.map(function(a){return Z(a[0],a[1])}).join(" "),b.style[I("transform")]=h):void 0},F=function(a){var b,c;return"undefined"!=typeof SVGElement&&null!==SVGElement&&"undefined"!=typeof SVGSVGElement&&null!==SVGSVGElement?a instanceof SVGElement&&!(a instanceof SVGSVGElement):null!=(b=null!=(c=x.tests)&&"function"==typeof c.isSVG?c.isSVG(a):void 0)&&b},S=function(a,b){var c;return c=la(10,b),ka(a*c)/c},e=function(){function a(a){var b,c,d;for(this.obj={},c=0,d=a.length;d>c;c++)b=a[c],this.obj[b]=1}return a.prototype.contains=function(a){return 1===this.obj[a]},a}(),J=function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})},A=new e(["marginTop","marginLeft","marginBottom","marginRight","paddingTop","paddingLeft","paddingBottom","paddingRight","top","left","bottom","right","translateX","translateY","translateZ","perspectiveX","perspectiveY","perspectiveZ","width","height","maxWidth","maxHeight","minWidth","minHeight","borderRadius"]),k=new e(["rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY","skewZ"]),Q=new e(["translate","translateX","translateY","translateZ","scale","scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","rotateC","rotateCX","rotateCY","skew","skewX","skewY","skewZ","perspective"]),X=new e(["accent-height","ascent","azimuth","baseFrequency","baseline-shift","bias","cx","cy","d","diffuseConstant","divisor","dx","dy","elevation","filterRes","fx","fy","gradientTransform","height","k1","k2","k3","k4","kernelMatrix","kernelUnitLength","letter-spacing","limitingConeAngle","markerHeight","markerWidth","numOctaves","order","overline-position","overline-thickness","pathLength","points","pointsAtX","pointsAtY","pointsAtZ","r","radius","rx","ry","seed","specularConstant","specularExponent","stdDeviation","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","surfaceScale","target","targetX","targetY","transform","underline-position","underline-thickness","viewBox","width","x","x1","x2","y","y1","y2","z"]),$=function(a,b){return"number"==typeof b?A.contains(a)?"px":k.contains(a)?"deg":"":""},Z=function(a,b){var c,d;return c=(""+b).match(/^([0-9.-]*)([^0-9]*)$/),null==c?b=parseFloat(b):(b=c[1],d=c[2]),b=S(parseFloat(b),10),(null==d||""===d)&&(d=$(a,b)),""+a+"("+b+d+")"},j=function(b){var c,d,e,f,g,h,i,a;for(f in e={},b)if(g=b[f],!Q.contains(f))e[f]=g;else if(d=f.match(/(translate|rotateC|rotate|skew|scale|perspective)(X|Y|Z|)/),d&&0<d[2].length)e[f]=g;else for(a=["X","Y","Z"],h=0,i=a.length;i>h;h++)c=a[h],e[d[1]+c]=g;return e},w=function(a){var b;return b="opacity"===a?1:0,""+b+$(a,b)},y=function(b,d){var e,g,j,i,k,l,n,f,h,c,o;if(i={},e=F(b),null!=b.style)for(k=window.getComputedStyle(b,null),n=0,h=d.length;h>n;n++)g=d[n],Q.contains(g)?null==i.transform&&(j=e?new a(null==(o=b.transform.baseVal.consolidate())?void 0:o.matrix):da.fromTransform(k[I("transform")]),i.transform=j.decompose()):(l=k[g],null==l&&X.contains(g)&&(l=b.getAttribute(g)),(""===l||null==l)&&(l=w(g)),i[g]=v(l));else for(f=0,c=d.length;c>f;f++)g=d[f],i[g]=v(b[g]);return i},v=function(b){var c,d,e,a,f;for(e=[r,ca,i,o],a=0,f=e.length;f>a;a++)if(d=e[a],c=d.create(b),null!=c)return c;return null},i=function(){function b(a){this.format=ma(this.format,this),this.interpolate=ma(this.interpolate,this),this.obj=a}return b.prototype.interpolate=function(c,d){var e,f,g,h,i;for(f in h=this.obj,e=c.obj,g={},h)i=h[f],g[f]=null==i.interpolate?i:i.interpolate(e[f],d);return new b(g)},b.prototype.format=function(){return this.obj},b.create=function(a){var c,d,e;if(a instanceof Object){for(c in d={},a)e=a[c],d[c]=v(e);return new b(d)}return null},b}(),o=function(){function a(a,b,c){this.prefix=b,this.suffix=c,this.format=ma(this.format,this),this.interpolate=ma(this.interpolate,this),this.value=parseFloat(a)}return a.prototype.interpolate=function(b,c){var d,e;return e=this.value,d=b.value,new a((d-e)*c+e,b.prefix||this.prefix,b.suffix||this.suffix)},a.prototype.format=function(){return null==this.prefix&&null==this.suffix?S(this.value,5):this.prefix+S(this.value,5)+this.suffix},a.create=function(b){var c;return"string"==typeof b?(c=(""+b).match("([^0-9.+-]*)([0-9.+-]+)([^0-9.+-]*)"),null==c?null:new a(c[2],c[1],c[3])):new a(b)},a}(),ca=function(){function b(a,b){this.values=a,this.sep=b,this.format=ma(this.format,this),this.interpolate=ma(this.interpolate,this)}return b.prototype.interpolate=function(c,d){var e,f,g,h,i,a;for(h=this.values,e=c.values,g=[],f=i=0,a=ja(h.length,e.length);0<=a?a>i:i>a;f=0<=a?++i:--i)g.push(null==h[f].interpolate?h[f]:h[f].interpolate(e[f],d));return new b(g,this.sep)},b.prototype.format=function(){var a;return a=this.values.map(function(a){return null==a.format?a:a.format()}),null==this.sep?a:a.join(this.sep)},b.createFromArray=function(a,c){var d;return d=a.map(function(a){return v(a)||a}),d=d.filter(function(a){return null!=a}),new b(d,c)},b.create=function(a){var c,d,f,g,h;if(a instanceof Array)return b.createFromArray(a,null);if("string"==typeof a){for(f=[" ",",","|",";","/",":"],g=0,h=f.length;h>g;g++)if(d=f[g],c=a.split(d),1<c.length)return b.createFromArray(c,d);return null}},b}(),aa=function(){function a(a,b){this.rgb=null==a?{}:a,this.format=b,this.toRgba=ma(this.toRgba,this),this.toRgb=ma(this.toRgb,this),this.toHex=ma(this.toHex,this)}return a.fromHex=function(b){var c,d;return c=b.match(/^#([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i),null!=c&&(b="#"+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]),d=b.match(/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i),null==d?null:new a({r:parseInt(d[1],16),g:parseInt(d[2],16),b:parseInt(d[3],16),a:1},"hex")},a.fromRgb=function(b){var c,d;return c=b.match(/^rgba?\(([0-9.]*), ?([0-9.]*), ?([0-9.]*)(?:, ?([0-9.]*))?\)$/),null==c?null:new a({r:parseFloat(c[1]),g:parseFloat(c[2]),b:parseFloat(c[3]),a:parseFloat(null==(d=c[4])?1:d)},null==c[4]?"rgb":"rgba")},a.componentToHex=function(a){var b;return b=a.toString(16),1===b.length?"0"+b:b},a.prototype.toHex=function(){return"#"+a.componentToHex(this.rgb.r)+a.componentToHex(this.rgb.g)+a.componentToHex(this.rgb.b)},a.prototype.toRgb=function(){return"rgb("+this.rgb.r+", "+this.rgb.g+", "+this.rgb.b+")"},a.prototype.toRgba=function(){return"rgba("+this.rgb.r+", "+this.rgb.g+", "+this.rgb.b+", "+this.rgb.a+")"},a}(),r=function(){function b(a){this.color=a,this.format=ma(this.format,this),this.interpolate=ma(this.interpolate,this)}return b.prototype.interpolate=function(c,d){var e,g,i,j,a,k,l,f;for(j=this.color,e=c.color,i={},f=["r","g","b"],k=0,l=f.length;l>k;k++)g=f[k],a=ka((e.rgb[g]-j.rgb[g])*d+j.rgb[g]),i[g]=ja(255,ia(0,a));return g="a",a=S((e.rgb[g]-j.rgb[g])*d+j.rgb[g],5),i[g]=ja(1,ia(0,a)),new b(new aa(i,e.format))},b.prototype.format=function(){return"hex"===this.color.format?this.color.toHex():"rgb"===this.color.format?this.color.toRgb():"rgba"===this.color.format?this.color.toRgba():void 0},b.create=function(a){var c;if("string"==typeof a)return c=aa.fromHex(a)||aa.fromRgb(a),null==c?null:new b(c)},b}(),ba=function(){function b(a){this.props=a,this.applyRotateCenter=ma(this.applyRotateCenter,this),this.format=ma(this.format,this),this.interpolate=ma(this.interpolate,this)}return b.prototype.interpolate=function(d,e){var g,j,i,k,n,a,l,o,f,h,c,p;for(i={},h=["translate","scale","rotate"],k=0,o=h.length;o>k;k++)for(j=h[k],i[j]=[],g=n=0,c=this.props[j].length;0<=c?c>n:n>c;g=0<=c?++n:--n)i[j][g]=(d.props[j][g]-this.props[j][g])*e+this.props[j][g];for(g=a=1;2>=a;g=++a)i.rotate[g]=d.props.rotate[g];for(p=["skew"],l=0,f=p.length;f>l;l++)j=p[l],i[j]=(d.props[j]-this.props[j])*e+this.props[j];return new b(i)},b.prototype.format=function(){return"translate("+this.props.translate.join(",")+") rotate("+this.props.rotate.join(",")+") skewX("+this.props.skew+") scale("+this.props.scale.join(",")+")"},b.prototype.applyRotateCenter=function(b){var c,d,e,f,g,h;for(d=m.createSVGMatrix(),d=d.translate(b[0],b[1]),d=d.rotate(this.props.rotate[0]),d=d.translate(-b[0],-b[1]),e=new a(d),f=e.decompose().props.translate,h=[],c=g=0;1>=g;c=++g)h.push(this.props.translate[c]-=f[c]);return h},b}(),m="undefined"!=typeof document&&null!==document?document.createElementNS("http://www.w3.org/2000/svg","svg"):void 0,a=function(){function a(a){this.m=a,this.applyProperties=ma(this.applyProperties,this),this.decompose=ma(this.decompose,this),this.m||(this.m=m.createSVGMatrix())}return a.prototype.decompose=function(){var a,b,c,d,e,f=Math.PI;return d=new s([this.m.a,this.m.b]),e=new s([this.m.c,this.m.d]),a=d.length(),c=d.dot(e),d=d.normalize(),b=e.combine(d,1,-c).length(),new ba({translate:[this.m.e,this.m.f],rotate:[180*ha(this.m.b,this.m.a)/f,this.rotateCX,this.rotateCY],scale:[a,b],skew:180*(c/b)/f})},a.prototype.applyProperties=function(b){var c,d,e,f,g,h,i,a;for(c={},g=0,h=b.length;h>g;g++)e=b[g],c[e[0]]=e[1];for(d in c)f=c[d],"translateX"===d?this.m=this.m.translate(f,0):"translateY"===d?this.m=this.m.translate(0,f):"scaleX"===d?this.m=this.m.scale(f,1):"scaleY"===d?this.m=this.m.scale(1,f):"rotateZ"===d?this.m=this.m.rotate(f):"skewX"===d?this.m=this.m.skewX(f):"skewY"===d&&(this.m=this.m.skewY(f));return this.rotateCX=null==(i=c.rotateCX)?0:i,this.rotateCY=null==(a=c.rotateCY)?0:a},a}(),s=function(){function b(a){this.els=a,this.combine=ma(this.combine,this),this.normalize=ma(this.normalize,this),this.length=ma(this.length,this),this.cross=ma(this.cross,this),this.dot=ma(this.dot,this),this.e=ma(this.e,this)}return b.prototype.e=function(a){return 1>a||a>this.els.length?null:this.els[a-1]},b.prototype.dot=function(a){var b,c,d;if(b=a.els||a,d=0,c=this.els.length,c!==b.length)return null;for(c+=1;--c;)d+=this.els[c-1]*b[c-1];return d},b.prototype.cross=function(a){var c,d;return d=a.els||a,3!==this.els.length||3!==d.length?null:(c=this.els,new b([c[1]*d[2]-c[2]*d[1],c[2]*d[0]-c[0]*d[2],c[0]*d[1]-c[1]*d[0]]))},b.prototype.length=function(){var a,b,c,d,e;for(a=0,e=this.els,c=0,d=e.length;d>c;c++)b=e[c],a+=la(b,2);return ga(a)},b.prototype.normalize=function(){var a,c,d,e,f;for(c in d=this.length(),e=[],f=this.els,f)a=f[c],e[c]=a/d;return new b(e)},b.prototype.combine=function(c,d,e){var f,g,h,i;for(g=[],f=h=0,i=this.els.length;0<=i?i>h:h>i;f=0<=i?++h:--h)g[f]=d*this.els[f]+e*c.els[f];return new b(g)},b}(),t=function(){function c(){this.toMatrix=ma(this.toMatrix,this),this.format=ma(this.format,this),this.interpolate=ma(this.interpolate,this)}return c.prototype.interpolate=function(j,e,k){var n,q,o,r,a,l,s,f,h,t,p,m,d,g,u,v,b,w,x=Math.sin;for(null==k&&(k=null),o=this,q=new c,b=["translate","scale","skew","perspective"],m=0,v=b.length;v>m;m++)for(s=b[m],q[s]=[],r=d=0,w=o[s].length-1;0<=w?w>=d:d>=w;r=0<=w?++d:--d)q[s][r]=null==k||-1<k.indexOf(s)||-1<k.indexOf(""+s+["x","y","z"][r])?(j[s][r]-o[s][r])*e+o[s][r]:o[s][r];if(null==k||-1!==k.indexOf("rotate")){if(f=o.quaternion,h=j.quaternion,n=f[0]*h[0]+f[1]*h[1]+f[2]*h[2]+f[3]*h[3],0>n){for(r=g=0;3>=g;r=++g)f[r]=-f[r];n=-n}for(.05<n+1?.05<=1-n?(p=fa(n),l=1/x(p),t=x(p*(1-e))*l,a=x(p*e)*l):(t=1-e,a=e):(h[0]=-f[1],h[1]=f[0],h[2]=-f[3],h[3]=f[2],t=x(piDouble*(.5-e)),a=x(piDouble*e)),q.quaternion=[],r=u=0;3>=u;r=++u)q.quaternion[r]=f[r]*t+h[r]*a}else q.quaternion=o.quaternion;return q},c.prototype.format=function(){return this.toMatrix().toString()},c.prototype.toMatrix=function(){var a,b,e,j,k,i,n,o,l,q,f,h,c,p,m,d;for(a=this,k=da.I(4),b=c=0;3>=c;b=++c)k.els[b][3]=a.perspective[b];for(i=a.quaternion,q=i[0],f=i[1],h=i[2],l=i[3],n=a.skew,j=[[1,0],[2,0],[2,1]],b=p=2;0<=p;b=--p)n[b]&&(o=da.I(4),o.els[j[b][0]][j[b][1]]=n[b],k=k.multiply(o));for(k=k.multiply(new da([[1-2*(f*f+h*h),2*(q*f-h*l),2*(q*h+f*l),0],[2*(q*f+h*l),1-2*(q*q+h*h),2*(f*h-q*l),0],[2*(q*h-f*l),2*(f*h+q*l),1-2*(q*q+f*f),0],[0,0,0,1]])),b=m=0;2>=m;b=++m){for(e=d=0;2>=d;e=++d)k.els[b][e]*=a.scale[b];k.els[3][b]=a.translate[b]}return k},c}(),da=function(){function b(a){this.els=a,this.toString=ma(this.toString,this),this.decompose=ma(this.decompose,this),this.inverse=ma(this.inverse,this),this.augment=ma(this.augment,this),this.toRightTriangular=ma(this.toRightTriangular,this),this.transpose=ma(this.transpose,this),this.multiply=ma(this.multiply,this),this.dup=ma(this.dup,this),this.e=ma(this.e,this)}return b.prototype.e=function(a,b){return 1>a||a>this.els.length||1>b||b>this.els[0].length?null:this.els[a-1][b-1]},b.prototype.dup=function(){return new b(this.els)},b.prototype.multiply=function(d){var e,g,j,i,k,n,a,l,o,f,h,c,p;for(c=!!d.modulus,e=d.els||d,"undefined"==typeof e[0][0]&&(e=new b(e).els),f=this.els.length,a=f,l=e[0].length,j=this.els[0].length,i=[],f+=1;--f;)for(k=a-f,i[k]=[],h=l,h+=1;--h;){for(n=l-h,p=0,o=j,o+=1;--o;)g=j-o,p+=this.els[k][g]*e[g][n];i[k][n]=p}return e=new b(i),c?e.col(1):e},b.prototype.transpose=function(){var c,d,e,f,g,h,i;for(i=this.els.length,c=this.els[0].length,d=[],g=c,g+=1;--g;)for(e=c-g,d[e]=[],h=i,h+=1;--h;)f=i-h,d[e][f]=this.els[f][e];return new b(d)},b.prototype.toRightTriangular=function(){var b,d,e,g,j,i,k,m,a,l,n,f,h,c;for(b=this.dup(),m=this.els.length,j=m,i=this.els[0].length;--m;){if(e=j-m,0===b.els[e][e])for(g=n=h=e+1;j>=h?j>n:n>j;g=j>=h?++n:--n)if(0!==b.els[g][e]){for(d=[],a=i,a+=1;--a;)l=i-a,d.push(b.els[e][l]+b.els[g][l]);b.els[e]=d;break}if(0!==b.els[e][e])for(g=f=c=e+1;j>=c?j>f:f>j;g=j>=c?++f:--f){for(k=b.els[g][e]/b.els[e][e],d=[],a=i,a+=1;--a;)l=i-a,d.push(e>=l?0:b.els[g][l]-b.els[e][l]*k);b.els[g]=d}}return b},b.prototype.augment=function(c){var d,e,g,h,i,j,a,k,l;if(d=c.els||c,"undefined"==typeof d[0][0]&&(d=new b(d).els),e=this.dup(),g=e.els[0].length,k=e.els.length,j=k,a=d[0].length,k!==d.length)return null;for(k+=1;--k;)for(h=j-k,l=a,l+=1;--l;)i=a-l,e.els[h][g+i]=d[h][i];return e},b.prototype.inverse=function(){var d,e,g,j,i,k,m,a,l,n,f,h,c;for(n=this.els.length,m=n,d=this.augment(b.I(n)).toRightTriangular(),a=d.els[0].length,i=[],n+=1;--n;){for(j=n-1,g=[],f=a,i[j]=[],e=d.els[j][j],f+=1;--f;)h=a-f,l=d.els[j][h]/e,g.push(l),h>=m&&i[j].push(l);for(d.els[j]=g,k=c=0;0<=j?j>c:c>j;k=0<=j?++c:--c){for(g=[],f=a,f+=1;--f;)h=a-f,g.push(d.els[k][h]-d.els[j][h]*d.els[k][j]);d.els[k]=g}}return new b(i)},b.I=function(a){var c,d,e,f,g;for(c=[],f=a,a+=1;--a;)for(d=f-a,c[d]=[],g=f,g+=1;--g;)e=f-g,c[d][e]=d===e?1:0;return new b(c)},b.prototype.decompose=function(){var e,f,n,r,i,o,B,a,l,u,h,c,p,m,d,g,y,v,b,w,x,D,k,E,J,C,F,H,K,q,L,M,j,z,I,A,G,N;for(o=this,w=[],y=[],v=[],u=[],a=[],e=[],f=K=0;3>=K;f=++K)for(e[f]=[],r=q=0;3>=q;r=++q)e[f][r]=o.els[f][r];if(0===e[3][3])return!1;for(f=L=0;3>=L;f=++L)for(r=M=0;3>=M;r=++M)e[f][r]/=e[3][3];for(l=o.dup(),f=j=0;2>=j;f=++j)l.els[f][3]=0;if(l.els[3][3]=1,0!==e[0][3]||0!==e[1][3]||0!==e[2][3]){for(c=new s(e.slice(0,4)[3]),n=l.inverse(),x=n.transpose(),a=x.multiply(c).els,f=z=0;2>=z;f=++z)e[f][3]=0;e[3][3]=1}else a=[0,0,0,1];for(f=I=0;2>=I;f=++I)w[f]=e[3][f],e[3][f]=0;for(m=[],f=A=0;2>=A;f=++A)m[f]=new s(e[f].slice(0,3));if(y[0]=m[0].length(),m[0]=m[0].normalize(),v[0]=m[0].dot(m[1]),m[1]=m[1].combine(m[0],1,-v[0]),y[1]=m[1].length(),m[1]=m[1].normalize(),v[0]/=y[1],v[1]=m[0].dot(m[2]),m[2]=m[2].combine(m[0],1,-v[1]),v[2]=m[1].dot(m[2]),m[2]=m[2].combine(m[1],1,-v[2]),y[2]=m[2].length(),m[2]=m[2].normalize(),v[1]/=y[2],v[2]/=y[2],B=m[1].cross(m[2]),0>m[0].dot(B))for(f=G=0;2>=G;f=++G)for(y[f]*=-1,r=N=0;2>=N;r=++N)m[f].els[r]*=-1;for(k in d=function(a,b){return m[a].els[b]},p=[],p[1]=Math.asin(-d(0,2)),0===_(p[1])?(p[0]=ha(-d(2,0),d(1,1)),p[1]=0):(p[0]=ha(d(1,2),d(2,2)),p[2]=ha(d(0,1),d(0,0))),b=d(0,0)+d(1,1)+d(2,2)+1,1e-4<b?(g=.5/ga(b),J=.25/g,C=(d(2,1)-d(1,2))*g,F=(d(0,2)-d(2,0))*g,H=(d(1,0)-d(0,1))*g):d(0,0)>d(1,1)&&d(0,0)>d(2,2)?(g=2*ga(1+d(0,0)-d(1,1)-d(2,2)),C=.25*g,F=(d(0,1)+d(1,0))/g,H=(d(0,2)+d(2,0))/g,J=(d(2,1)-d(1,2))/g):d(1,1)>d(2,2)?(g=2*ga(1+d(1,1)-d(0,0)-d(2,2)),C=(d(0,1)+d(1,0))/g,F=.25*g,H=(d(1,2)+d(2,1))/g,J=(d(0,2)-d(2,0))/g):(g=2*ga(1+d(2,2)-d(0,0)-d(1,1)),C=(d(0,2)+d(2,0))/g,F=(d(1,2)+d(2,1))/g,H=.25*g,J=(d(1,0)-d(0,1))/g),u=[C,F,H,J],h=new t,h.translate=w,h.scale=y,h.skew=v,h.quaternion=u,h.perspective=a,h.rotate=p,h)for(i in D=h[k],D)E=D[i],isNaN(E)&&(D[i]=0);return h},b.prototype.toString=function(){var a,b,c,d,e;for(c="matrix3d(",a=d=0;3>=d;a=++d)for(b=e=0;3>=e;b=++e)c+=S(this.els[a][b],10),(3!==a||3!==b)&&(c+=",");return c+=")"},b.matrixForTransform=n(function(a){var b,c,d,e,f,g;return b=document.createElement("div"),b.style.position="absolute",b.style.visibility="hidden",b.style[I("transform")]=a,document.body.appendChild(b),d=window.getComputedStyle(b,null),c=null==(e=null==(f=d.transform)?d[I("transform")]:f)?null==(g=x.tests)?void 0:g.matrixForTransform(a):e,document.body.removeChild(b),c}),b.fromTransform=function(c){var d,e,f,g,h,i;for(g=null==c?void 0:c.match(/matrix3?d?\(([-0-9,e \.]*)\)/),g?(d=g[1].split(","),d=d.map(parseFloat),e=6===d.length?[d[0],d[1],0,0,d[2],d[3],0,0,0,0,1,0,d[4],d[5],0,1]:d):e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],h=[],f=i=0;3>=i;f=++i)h.push(e.slice(4*f,4*f+4));return new b(h)},b}(),z=n(function(b){var c,d,e,g,h,i,j,a,k,l;if(void 0!==document.body.style[b])return"";for(g=b.split("-"),h="",i=0,a=g.length;a>i;i++)e=g[i],h+=e.substring(0,1).toUpperCase()+e.substring(1);for(l=["Webkit","Moz","ms"],j=0,k=l.length;k>j;j++)if(d=l[j],c=d+h,void 0!==document.body.style[c])return d;return""}),I=n(function(a){var b;return b=z(a),"Moz"===b?""+b+(a.substring(0,1).toUpperCase()+a.substring(1)):""===b?J(a):"-"+b.toLowerCase()+"-"+J(a)}),G="undefined"!=typeof window&&null!==window?window.requestAnimationFrame:void 0,ea=[],l=[],D=!1,V=1,"undefined"!=typeof window&&null!==window&&window.addEventListener("keyup",function(a){return 68===a.keyCode&&a.shiftKey&&a.ctrlKey?x.toggleSlow():void 0}),null==G&&(H=0,G=function(a){var b,c,d;return b=Date.now(),d=ia(0,16-(b-H)),c=window.setTimeout(function(){return a(b+d)},d),H=b+d,c}),E=!1,T=!1,N=function(){return E?void 0:(E=!0,G(O))},O=function(a){var b,c,d,e;if(T)return void G(O);for(c=[],d=0,e=ea.length;e>d;d++)b=ea[d],h(a,b)||c.push(b);return ea=ea.filter(function(a){return-1===c.indexOf(a)}),0===ea.length?E=!1:G(O)},h=function(b,c){var e,f,g,h,i,j,a,k;if(null==c.tStart&&(c.tStart=b),h=(b-c.tStart)/c.options.duration,i=c.curve(h),f={},1<=h)f=c.curve.initialForce?c.properties.start:c.properties.end;else for(e in k=c.properties.start,k)g=k[e],f[e]=C(g,c.properties.end[e],i);return d(c.el,f),"function"==typeof(j=c.options).change&&j.change(c.el),1<=h&&"function"==typeof(a=c.options).complete&&a.complete(c.el),1>h},C=function(a,b,c){return null!=a&&null!=a.interpolate?a.interpolate(b,c):null},W=function(b,k,e,m){var p,q,r,s,f,u,c,d;if(null!=m&&(l=l.filter(function(a){return a.id!==m})),x.stop(b,{timeout:!1}),!e.animated)return x.css(b,k),void("function"==typeof e.complete&&e.complete(this));for(r in k=j(k),f=y(b,Object.keys(k)),p={},u=[],k)c=k[r],Q.contains(r)?u.push([r,c]):(p[r]=v(c),p[r]instanceof o&&null!=b.style&&(p[r].prefix="",null==(d=p[r]).suffix&&(d.suffix=$(r,0))));return 0<u.length&&(q=F(b),q?(s=new a,s.applyProperties(u)):(c=u.map(function(a){return Z(a[0],a[1])}).join(" "),s=da.fromTransform(da.matrixForTransform(c))),p.transform=s.decompose(),q&&f.transform.applyRotateCenter([p.transform.props.rotate[1],p.transform.props.rotate[2]])),ea.push({el:b,properties:{start:f,end:p},options:e,curve:e.type.call(e.type,e)}),N()},Y=[],U=0,L=function(a){return u()?a.realTimeoutId=setTimeout(function(){return a.fn(),b(a.id)},a.delay):void 0},f=function(a,b){var c;return U+=1,c={id:U,tStart:Date.now(),fn:a,delay:b,originalDelay:b},L(c),Y.push(c),U},b=function(a){return Y=Y.filter(function(b){return b.id===a&&clearTimeout(b.realTimeoutId),b.id!==a})},q=function(a,b){var c;return null==a?b.originalDelay:(c=a-b.tStart,b.originalDelay-c)},"undefined"!=typeof window&&null!==window&&window.addEventListener("unload",function(){}),B=null,R(function(b){var c,d,e,g,h,i,j,a,k,l;if(T=!b,b){if(E)for(d=Date.now()-B,h=0,a=ea.length;a>h;h++)c=ea[h],null!=c.tStart&&(c.tStart+=d);for(i=0,k=Y.length;k>i;i++)e=Y[i],e.delay=q(B,e),L(e);return B=null}for(B=Date.now(),l=[],g=0,j=Y.length;j>g;g++)e=Y[g],l.push(clearTimeout(e.realTimeoutId));return l}),x={},x.linear=function(){return function(a){return a}},x.spring=function(b){var d,e,a,g,f,j;return null==b&&(b={}),c(b,arguments.callee.defaults),g=ia(1,b.frequency/20),f=la(20,b.friction/100),j=b.anticipationSize/1e3,a=ia(0,j),d=function(c){var d,e,f,g,h;return d=.8,g=j/(1-j),h=0,f=(g-d*h)/(g-h),e=(d-f)/g,e*c*b.anticipationStrength/100+f},e=function(a){return la(f/10,-a)*(1-a)},function(b){var i,k,m,a,l,n,f,h;return n=b/(1-j)-j/(1-j),j>b?(h=j/(1-j)-j/(1-j),f=0/(1-j)-j/(1-j),l=fa(1/d(h)),m=(fa(1/d(f))-l)/(g*-j),i=d):(i=e,l=0,m=1),k=i(n),a=g*(b-j)*m+l,1-k*_(a)}},x.bounce=function(a){var b,d,e,f;return null==a&&(a={}),c(a,arguments.callee.defaults),e=ia(1,a.frequency/20),f=la(20,a.friction/100),b=function(a){return la(f/10,-a)*(1-a)},d=function(a){var c,d,f,g;return g=-1.57,d=1,c=b(a),f=e*a*d+g,c*_(f)},d.initialForce=!0,d},x.gravity=function(b){var d,e,f,g,h,j,k;return null==b&&(b={}),c(b,arguments.callee.defaults),e=ja(b.bounciness/1250,.8),g=b.elasticity/1e3,k=100,f=[],d=function(){var a,c;for(a=ga(2/k),c={a:-a,b:a,H:1},b.initialForce&&(c.a=0,c.b=2*c.b);.001<c.H;)d=c.b-c.a,c={a:c.b,b:c.b+d*e,H:c.H*e*e};return c.b}(),j=function(c,e,f,g){var h,i;return d=e-c,i=2/d*g-1-2*c/d,h=i*i*f-f+1,b.initialForce&&(h=1-h),h},function(){var a,c,h,i;for(c=ga(2/(k*d*d)),h={a:-c,b:c,H:1},b.initialForce&&(h.a=0,h.b=2*h.b),f.push(h),a=d,i=[];1>h.b&&.001<h.H;)a=h.b-h.a,h={a:h.b,b:h.b+a*e,H:h.H*g},i.push(f.push(h));return i}(),h=function(a){var c,d,e;for(d=0,c=f[d];!(a>=c.a&&a<=c.b)&&(d+=1,c=f[d]););return e=c?j(c.a,c.b,c.H,a):b.initialForce?0:1},h.initialForce=b.initialForce,h},x.forceWithGravity=function(a){return null==a&&(a={}),c(a,arguments.callee.defaults),a.initialForce=!0,x.gravity(a)},x.bezier=function(){var a,b,c;return b=function(a,b,c,d,e){return la(1-a,3)*b+3*la(1-a,2)*a*c+3*(1-a)*la(a,2)*d+la(a,3)*e},a=function(a,c,d,e,f){return{x:b(a,c.x,d.x,e.x,f.x),y:b(a,c.y,d.y,e.y,f.y)}},c=function(b,d,e){var g,j,i,k,m,a,l,n,f,h;for(g=null,f=0,h=d.length;h>f&&(j=d[f],b>=j(0).x&&b<=j(1).x&&(g=j),null===g);f++);if(!g)return e?0:1;for(n=1e-4,k=0,a=1,m=(a+k)/2,l=g(m).x,i=0;Math.abs(b-l)>n&&100>i;)b>l?k=m:a=m,m=(a+k)/2,l=g(m).x,i+=1;return g(m).y},function(b){var d,f,e;return null==b&&(b={}),f=b.points,e=!1,d=function(){var b,c,e;for(b in d=[],e=function(b,c){var e;return e=function(d){return a(d,b,b.cp[b.cp.length-1],c.cp[0],c)},d.push(e)},f){if(c=parseInt(b),c>=f.length-1)break;e(f[c],f[c+1])}return d}(),function(a){return 0===a?0:1===a?1:c(a,d,e)}}}(),x.easeInOut=function(a){var b,c;return null==a&&(a={}),b=null==(c=a.friction)?arguments.callee.defaults.friction:c,x.bezier({points:[{x:0,y:0,cp:[{x:.92-b/1e3,y:0}]},{x:1,y:1,cp:[{x:.08+b/1e3,y:1}]}]})},x.easeIn=function(a){var b,c;return null==a&&(a={}),b=null==(c=a.friction)?arguments.callee.defaults.friction:c,x.bezier({points:[{x:0,y:0,cp:[{x:.92-b/1e3,y:0}]},{x:1,y:1,cp:[{x:1,y:1}]}]})},x.easeOut=function(a){var b,c;return null==a&&(a={}),b=null==(c=a.friction)?arguments.callee.defaults.friction:c,x.bezier({points:[{x:0,y:0,cp:[{x:0,y:0}]},{x:1,y:1,cp:[{x:.08+b/1e3,y:1}]}]})},x.spring.defaults={frequency:300,friction:200,anticipationSize:0,anticipationStrength:0},x.bounce.defaults={frequency:300,friction:200},x.forceWithGravity.defaults=x.gravity.defaults={bounciness:400,elasticity:200},x.easeInOut.defaults=x.easeIn.defaults=x.easeOut.defaults={friction:500},x.css=M(function(a,b){return g(a,b,!0)}),x.animate=M(function(a,b,d){var e;return null==d&&(d={}),d=p(d),c(d,{type:x.easeInOut,duration:1e3,delay:0,animated:!0}),d.duration=ia(0,d.duration*V),d.delay=ia(0,d.delay),0===d.delay?W(a,b,d):(e=x.setTimeout(function(){return W(a,b,d,e)},d.delay),l.push({id:e,el:a}))}),x.stop=M(function(a,b){return null==b&&(b={}),null==b.timeout&&(b.timeout=!0),b.timeout&&(l=l.filter(function(c){return c.el===a&&(null==b.filter||b.filter(c))&&(x.clearTimeout(c.id),!0)})),ea=ea.filter(function(b){return b.el!==a})}),x.setTimeout=function(a,b){return f(a,b*V)},x.clearTimeout=function(a){return b(a)},x.toggleSlow=function(){return D=!D,V=D?3:1,"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log("dynamics.js: slow animations "+(D?"enabled":"disabled")):void 0},"object"==typeof module&&"object"==typeof module.exports?module.exports=x:"function"==typeof define?define("dynamics",function(){return x}):window.dynamics=x}).call(this);