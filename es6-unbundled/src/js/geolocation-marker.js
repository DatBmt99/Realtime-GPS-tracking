(function(){"use strict";function a(b,a,c,f){var g=google.maps.MVCObject.call(this)||this;g.c=null,g.b=null,g.a=null,g.i=-1;var d={clickable:!1,cursor:"pointer",draggable:!1,flat:!0,icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#C8D6EC",fillOpacity:.7,scale:12,strokeWeight:0},position:new google.maps.LatLng(0,0),title:"Current location",zIndex:2},h={clickable:!1,cursor:"pointer",draggable:!1,flat:!0,icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#4285F4",fillOpacity:1,scale:6,strokeColor:"white",strokeWeight:2},optimized:!1,position:new google.maps.LatLng(0,0),title:"Current location",zIndex:3};return a&&(d=e(d,a)),c&&(h=e(h,c)),a={clickable:!1,radius:0,strokeColor:"1bb6ff",strokeOpacity:.4,fillColor:"61a0bf",fillOpacity:.4,strokeWeight:1,zIndex:1},f&&(a=e(a,f)),g.c=new google.maps.Marker(d),g.b=new google.maps.Marker(h),g.a=new google.maps.Circle(a),google.maps.MVCObject.prototype.set.call(g,"accuracy",null),google.maps.MVCObject.prototype.set.call(g,"position",null),google.maps.MVCObject.prototype.set.call(g,"map",null),g.set("minimum_accuracy",null),g.set("position_options",{enableHighAccuracy:!0,maximumAge:1E3}),g.a.bindTo("map",g.c),g.a.bindTo("map",g.b),b&&g.setMap(b),g}function e(d,a){for(var c in a)!0!==b[c]&&(d[c]=a[c]);return d}function c(){return a.prototype.getAccuracy=a.prototype.j,a.prototype.getBounds=a.prototype.m,a.prototype.getMap=a.prototype.f,a.prototype.getMinimumAccuracy=a.prototype.h,a.prototype.getPosition=a.prototype.g,a.prototype.getPositionOptions=a.prototype.l,a.prototype.setCircleOptions=a.prototype.s,a.prototype.setMap=a.prototype.setMap,a.prototype.setMarkerOptions=a.prototype.u,a.prototype.setMinimumAccuracy=a.prototype.v,a.prototype.setPositionOptions=a.prototype.w,a}var d;(function(b,a){function c(){}for(var e in c.prototype=a.prototype,b.B=a.prototype,b.prototype=new c,b.prototype.constructor=b,a)if("prototype"!=e)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(a,e);f&&Object.defineProperty(b,e,f)}else b[e]=a[e]})(a,google.maps.MVCObject),d=a.prototype,d.set=function(b,a){if(f.test(b))throw"'"+b+"' is a read-only property.";"map"===b?this.setMap(a):google.maps.MVCObject.prototype.set.call(this,b,a)},d.f=function(){return this.get("map")},d.l=function(){return this.get("position_options")},d.w=function(b){this.set("position_options",b)},d.g=function(){return this.get("position")},d.m=function(){return this.get("position")?this.a.getBounds():null},d.j=function(){return this.get("accuracy")},d.h=function(){return this.get("minimum_accuracy")},d.v=function(b){this.set("minimum_accuracy",b)},d.setMap=function(b){google.maps.MVCObject.prototype.set.call(this,"map",b),b?navigator.geolocation&&(this.i=navigator.geolocation.watchPosition(this.A.bind(this),this.o.bind(this),this.l())):(this.c.unbind("position"),this.b.unbind("position"),this.a.unbind("center"),this.a.unbind("radius"),google.maps.MVCObject.prototype.set.call(this,"accuracy",null),google.maps.MVCObject.prototype.set.call(this,"position",null),navigator.geolocation.clearWatch(this.i),this.i=-1,this.c.setMap(b),this.b.setMap(b))},d.u=function(b){this.b.setOptions(e({},b))},d.s=function(b){this.a.setOptions(e({},b))},d.A=function(b){var a=new google.maps.LatLng(b.coords.latitude,b.coords.longitude),c=!this.b.getMap();if(c){if(null!=this.h()&&b.coords.accuracy>this.h())return;this.c.setMap(this.f()),this.b.setMap(this.f()),this.c.bindTo("position",this),this.b.bindTo("position",this),this.a.bindTo("center",this,"position"),this.a.bindTo("radius",this,"accuracy")}this.j()!=b.coords.accuracy&&google.maps.MVCObject.prototype.set.call(this,"accuracy",b.coords.accuracy),!c&&this.g()&&this.g().equals(a)||google.maps.MVCObject.prototype.set.call(this,"position",a)},d.o=function(b){google.maps.event.trigger(this,"geolocation_error",b)};var b={map:!0,position:!0,radius:!0},f=/^(?:position|accuracy)$/i,g=window;"function"===typeof g.define&&g.define.amd?g.define([],c):"object"===typeof g.exports?g.module.exports=c():g.GeolocationMarker=c()}).call(this);